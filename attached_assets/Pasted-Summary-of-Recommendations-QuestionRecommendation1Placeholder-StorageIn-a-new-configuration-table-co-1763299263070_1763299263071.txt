Summary of Recommendations#QuestionRecommendation1Placeholder StorageIn a new configuration table/constant.2Asset Map SchemaAs a JSONB column on the portfolio_versions table.3Placeholder UI FlowStart with "Click to open modal," but design for "Both" (add drag-and-drop later).4Conversation HistoryPreserve indefinitely by default, but provide a manual "Clear" button.5Conflict PriorityYour hierarchy is correct: Core Effects (Keep) > Scroll Effects > Advanced Effects (Disable).6Error Boundary UIDisplay error + "Report Issue" button + "Reset Scene" button. (Avoid "Regenerate").7Migration TimingStage them in sequence with the implementation phases.Detailed Recommendations1. Asset Placeholder System - Storage LocationAnswer: In a new configuration table/constant.Reasoning:Future Multi-tenancy (Winner): This is the only option that scales. It allows you to define different placeholder lists for different tenants (e.g., a "Free" plan gets 5 image slots, a "Pro" plan gets 50).Designer Flexibility: You can update the available placeholders for your users without a new code deployment.Why not the others?Hardcoded: Too rigid. Fails the multi-tenancy and flexibility test.In the AI Prompt: This is "configuration as a string," which is fragile and difficult to manage.2. Asset Mapping - Database SchemaAnswer: A column on portfolio_versions.Reasoning:Designer Flexibility (Winner): Your recommendation is 100% correct. Storing the map on the version is the only way to allow for non-destructive experimentation. A user can create a new version, swap all the assets, and still roll back to the previous version and see it exactly as it was.Ease of Use: This is the most intuitive model. A "version" should be a complete snapshot of the portfolio at that moment, which includes its asset assignments. This decision also reinforces the choice for #4 (Conversation History), as both moves treat a "version" as a complete, independent snapshot of work.Why not the others?On projects (Global): This is a critical failure for flexibility. A change on version_5 would break the asset links for version_1.New Join Table: This is technically "more correct" from a normalization standpoint but adds unnecessary query complexity for what is essentially a simple key-value map.3. Placeholder UI Component - User FlowAnswer: Start with "Click to open modal," but design for "Both."Reasoning:Ease of Use (Winner): "Click to open an asset picker modal" is the most accessible, discoverable, and non-intimidating flow for 100% of users. This should be your base implementation.Designer Flexibility: Drag-and-drop from a persistent sidebar (like in Adobe tools or Webflow) is a massive speed-up for "power users" and designers.Recommendation: Implement the click-to-open modal first to satisfy Phase 0. Plan to add the drag-and-drop capability in Phase 3 (Advanced UX) as a progressive enhancement.4. Conversation History - RetentionAnswer: Preserve indefinitely by default, but provide a manual "Clear" button.Reasoning:Ease of Use (Winner): Users expect their work (which includes the conversation to create it) to be saved. Deleting it automatically is a violation of trust.Security / Future Multi-tenancy: A manual "Clear Conversation" button respects user privacy and gives them an "escape hatch" for a fresh start. This also lays the groundwork for multi-tenancy, where you might later introduce different retention policies (e.g., "Free" plans auto-expire after 30 days) to manage storage costs.Cross-Reference: This approach pairs perfectly with decision #2 (Asset Map on portfolio_versions). Both choices prioritize user flexibility and non-destructive history, allowing a user to see the conversation and the assets tied to a specific version.5. Conflict Resolution - Priority HierarchyAnswer: Your suggested hierarchy is correct.Reasoning:The logic should be to sacrifice the effect that is the least structural or most "expensive" (in terms of performance or visual noise).Highest Priority (Keep): Core Effects (e.g., fade, parallaxIntensity)Medium Priority: Scroll-Triggered Effects (e.g., scaleOnScroll)Lowest Priority (Disable): Advanced Effects (e.g., blurOnScroll)When a conflict occurs, the logic should disable the lower-priority item.parallax + scaleOnScroll -> scaleOnScroll becomes false.scaleOnScroll + blurOnScroll -> blurOnScroll becomes false.6. Error Boundary - Retry MechanismAnswer: Display the error, add a "Report Issue" button, and add a "Reset Scene" button.Reasoning:"Regenerate Scene" is risky. If the AI failed because of a bad prompt or context, regenerating will just fail again, creating a frustrating loop.Best Flow:Display Error: (e.g., "This scene couldn't be displayed.")"Report Issue" Button: This is the most critical. It gives you the debugging data (the bad JSON, the prompt) to fix the bug."Reset Scene" Button: This is the safest action for the user. It should delete the broken director config for that scene and load the DEFAULT_DIRECTOR_CONFIG. This gives them a clean, working slate to try again.7. Migration TimingAnswer: Stage them in sequence with the implementation phases.Reasoning:Security / Power (Winner): This is the safest, most professional deployment pattern. Running all migrations at once is risky; a failure in the middle can leave your database in an inconsistent state.Best Practice: Your code should never be deployed if it expects a database change that hasn't happened yet. Tying the migration to the feature's implementation (as seen in #2 and #4) ensures your application code and database schema are always in sync.Start of Phase 1: Run migrations for portfolio_versions.Start of Phase 2: Run migrations for conversation_history.